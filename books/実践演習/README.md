---
---

# 実践演習

本資料の内容を通じて Laravel で REST API 制作を行うためのフローを概ね理解できたと思います。

これまで習った内容を通じて、実際に何かアプリケーションを想定した API のセットを作成してみましょう。

## 事前準備

まず、何を作るかについてを決めましょう

大体5つくらいの機能を考えて、ユーザーはxxxできる、のような形式で実装する予定の機能を書き出します。
これを仮にユーザーストーリーと呼ぶことにしましょう。

本棚アプリケーションを作成する場合、以下のような例になります。

- ユーザは、本棚に本を登録することができる
- ユーザは、本棚の本を一覧で取得する事ができる
- ユーザは、本棚の本情報を更新、削除する事ができる
- ユーザは、本に登録されたカテゴリで本棚の本をグループ化することができる
- ユーザは、本のタイトルで本を検索することができる

考えたユーザーストーリーは、issueにまとめて記述しておきましょう。
またユーザーストーリーごとに個別のissueを作成し、一つ一つのユーザーストーリー実装に必要な作業を書き出してみましょう。

機能の実装の他にも、実際のサーバにアップするかどうかや、テストをどの程度記述するか、についても
事前にしっかり決めておき、これから制作期間に渡っての目標を明示的に決めておくことが重要です。

## 実装

実装期間はおよそ1か月程度で考えてみましょう。1ヶ月はおよそ4週間なので、大体3週目で全てのユーザーストーリーに着手し終えるのが理想です。
各週ごとにどこまでの作業を進めるのかを決めマイルストーンとし、進捗を適宜確認するようにしましょう。

実装の PR は基本的に ユーザストーリー単位で作成するようにし、
こまめに PR を出しながら作業の進捗がわかるような Git リポジトリを構築するのが ポイントです。
各 PR と ユーザストーリーの Issue を紐付けながら、全てのコミットが 何かの Issue と紐づくように心がけて作業を進めましょう。

最後の1週間には、テストを実施します。コードの記述に問題がないか、実装の意図に沿った動作ができているかを確認します。
このような試験条件は、ユーザーストーリーに受け入れ条件として箇条書きしておくと、検証作業を進めるのが楽でしょう。

## 演習の目安

せっかくの演習課題なので、サンプルのタスクリストと同じものを作成するのもつまらないでしょう。
以下の内容は、演習テーマを決める上での参考にしてください。

::: tip
登録するデータはサンプルでは名前のみでしたが、例えば本の場合タイトルやカテゴリ、著者など様々な項目を検討し、少なくとも3以上の項目を定義するようにしてみましょう
:::

::: tip
PUTで登録するデータとGETで取得するデータが異なるケースを考えてみましょう。
例えば登録時にISBN番号を入力すると、一覧での取得時にはamazonのURLが取得できる、と言った具合です。
(amazonのweb URLはISBNを用いて生成可能です。
http://dqn.sakusakutto.jp/2013/08/amazon_permalink.html ）
:::

::: tip
様々なデータを利用して検索やグルーピングが可能なAPIを作成してみましょう。また検索結果のページングにも挑戦してみましょう。
:::

::: tip
データベースの操作だけでなく、 Guzzle を用いて 外部の REST APIを実行するような仕組みを検討すると機能の幅が広がります。
:::

::: tip
エラー時のレスポンスにも気を配り、どのようなリクエストが異常で、ユーザーが異常の原因をどのようにして知れるのか、考えてみましょう。
:::
